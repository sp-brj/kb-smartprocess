# Инструкции для Claude Code

## После завершения задачи

После завершения любой задачи по изменению кода:

1. **Собрать проект** для проверки ошибок:
   ```bash
   npm run build
   ```

2. **Запустить E2E тесты** через Playwright:
   ```bash
   npx playwright test
   ```
   - Убедиться что все тесты проходят
   - При необходимости исправить код или обновить тесты

3. **Очистить тестовые данные** после тестов:
   ```bash
   npx tsx scripts/cleanup-test-data.ts
   ```
   - ОБЯЗАТЕЛЬНО запускать после каждого прогона тестов
   - Удаляет тестовые папки и статьи с timestamp в названии

4. **Создать коммит** с описанием изменений:
   ```bash
   git add <измененные файлы>
   git commit -m "Описание изменений"
   ```

5. **Запушить на GitHub**:
   ```bash
   git push origin main
   ```

## Стандарты кодирования

- Использовать ESLint конфигурацию проекта (`eslint-config-next`)
- Следовать паттернам существующего кода
- В React компонентах:
  - Функции загрузки данных объявлять внутри `useEffect`
  - Для перезагрузки данных использовать state-триггер (`reloadCount`)
  - Не вызывать setState синхронно в эффектах

## Структура проекта

- `/src/components/` - React компоненты
- `/src/app/` - Next.js App Router страницы и API
- `/prisma/` - схема базы данных
- `/e2e/` - Playwright тесты

## Репозиторий

GitHub: https://github.com/sp-brj/kb-smartprocess
